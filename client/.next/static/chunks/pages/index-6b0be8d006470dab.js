(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1883)}])},6021:function(e,t,r){"use strict";r.d(t,{$:function(){return s}});var l=r(5893),o=r(2293),a=r(8862),i=r(3832),n=r.n(i);let s=()=>(0,l.jsx)("footer",{className:n().wrapper,children:(0,l.jsx)(o.Z,{position:"static",children:(0,l.jsx)(a.Z,{variant:"h2",fontSize:"1.5rem",children:'"ЖЭС - обращения" \xa9 2022.'})})})},4047:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var l=r(5893),o=r(9008),a=r.n(o);let i=e=>{let{title:t}=e;return(0,l.jsxs)(a(),{children:[(0,l.jsx)("title",{children:t}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/logo.svg"})]})}},7778:function(e,t,r){"use strict";r.d(t,{h:function(){return h}});var l=r(5893),o=r(2293),a=r(155),i=r(3946),n=r(8862),s=r(3321),c=r(1881),d=r.n(c),u=r(5567);let h=e=>{let{token:t,clear:r}=e;return(0,l.jsx)(o.Z,{position:"static",color:"default",children:(0,l.jsxs)(a.Z,{disableGutters:!0,className:d().toolbar,children:[(0,l.jsxs)(i.Z,{color:"primary",href:"/",children:[(0,l.jsx)(u.Z,{fontSize:"large"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.Z,{variant:"h1",fontSize:"1.5rem",children:"\xabЖЭС-обращения\xbb"}),(0,l.jsx)(n.Z,{variant:"h3",fontSize:"0.8rem",children:"Платформа для подачи обращений"})]})]}),(0,l.jsxs)(a.Z,{children:[!t&&(0,l.jsx)(s.Z,{href:"/signIn",children:"Войти"}),!t&&(0,l.jsx)(s.Z,{href:"/signUp",children:"Регистрация"}),!!t&&(0,l.jsx)(s.Z,{onClick:()=>{window.localStorage.clear(),r(null)},children:"Выйти"})]})]})})}},2165:function(e,t,r){"use strict";var l=r(8945);t.Z=new class{async createUser(e){await l.Z.post("".concat(this.baseLink,"/auth/signUp"),e).then(this.auth)}async loginUser(e){await l.Z.post("".concat(this.baseLink,"/auth/signIn"),e).then(this.auth)}async createUserRequest(e){let t=window.localStorage.getItem("token");await l.Z.post("".concat(this.baseLink,"/req"),e,{headers:{Authorization:"Bearer ".concat(t)}})}async getAllUserRequests(){let e=window.localStorage.getItem("token"),t=await l.Z.get("".concat(this.baseLink,"/req"),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{let[t,r]=e.data;return{requests:t,total:r}});return t}async getUserRequest(e){let t=window.localStorage.getItem("token");return await l.Z.get("".concat(this.baseLink,"/req/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{let t=e.data;return t})}async getUserResponse(e){let t=window.localStorage.getItem("token");return await l.Z.get("".concat(this.baseLink,"/req/res/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{let t=e.data;return t})}async getAllUsers(){let e=window.localStorage.getItem("token");return await l.Z.get("".concat(this.baseLink,"/admin"),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{let t=e.data;return t})}async getAllActiveRequestsForUser(e){let t=window.localStorage.getItem("token");return await l.Z.get("".concat(this.baseLink,"/admin/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{let t=e.data;return t})}async auth(e){let{role:t,token:r}=await e.data;return window.localStorage.setItem("token",r),window.localStorage.setItem("role",t),{role:t,token:r}}constructor(e){this.baseLink=e}}("http://localhost:5000/api")},1883:function(e,t,r){"use strict";let l;r.r(t),r.d(t,{default:function(){return eZ}});var o,a,i,n,s=r(5893),c=r(4047),d=r(7778),u=r(6021),h=r(629),b=r(2293),f=r(3366),p=r(7462),x=r(7294);r(6607);var v=r(6010),m=r(4780),g=r(8271),w=r(7623),Z=r(2734),j=r(7144);function y(){if(l)return l;let e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),l="reverse",e.scrollLeft>0?l="default":(e.scrollLeft=1,0===e.scrollLeft&&(l="negative")),document.body.removeChild(e),l}function S(e,t){let r=e.scrollLeft;if("rtl"!==t)return r;let l=y();switch(l){case"negative":return e.scrollWidth-e.clientWidth+r;case"reverse":return e.scrollWidth-e.clientWidth-r;default:return r}}function C(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var k=r(5340);let R=["onChange"],E={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var B=r(8169),A=(0,B.Z)((0,s.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),M=(0,B.Z)((0,s.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),N=r(8543),W=r(1588),L=r(7621);function z(e){return(0,L.Z)("MuiTabScrollButton",e)}let I=(0,W.Z)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),T=["className","direction","orientation","disabled"],q=e=>{let{classes:t,orientation:r,disabled:l}=e;return(0,m.Z)({root:["root",r,l&&"disabled"]},z,t)},U=(0,g.ZP)(N.Z,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})(({ownerState:e})=>(0,p.Z)({width:40,flexShrink:0,opacity:.8,[`&.${I.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),_=x.forwardRef(function(e,t){let r=(0,w.Z)({props:e,name:"MuiTabScrollButton"}),{className:l,direction:o}=r,n=(0,f.Z)(r,T),c=(0,Z.Z)(),d="rtl"===c.direction,u=(0,p.Z)({isRtl:d},r),h=q(u);return(0,s.jsx)(U,(0,p.Z)({component:"div",className:(0,v.Z)(h.root,l),ref:t,role:null,ownerState:u,tabIndex:null},n,{children:"left"===o?a||(a=(0,s.jsx)(A,{fontSize:"small"})):i||(i=(0,s.jsx)(M,{fontSize:"small"}))}))});var P=r(2068);function F(e){return(0,L.Z)("MuiTabs",e)}let H=(0,W.Z)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var $=r(8038);let D=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],X=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,V=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Y=(e,t,r)=>{let l=!1,o=r(e,t);for(;o;){if(o===e.firstChild){if(l)return;l=!0}let a=o.disabled||"true"===o.getAttribute("aria-disabled");if(!o.hasAttribute("tabindex")||a)o=r(e,o);else{o.focus();return}}},O=e=>{let{vertical:t,fixed:r,hideScrollbar:l,scrollableX:o,scrollableY:a,centered:i,scrollButtonsHideMobile:n,classes:s}=e;return(0,m.Z)({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",l&&"hideScrollbar",o&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",n&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[l&&"hideScrollbar"]},F,s)},G=(0,g.ZP)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${H.scrollButtons}`]:t.scrollButtons},{[`& .${H.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>(0,p.Z)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${H.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),K=(0,g.ZP)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})(({ownerState:e})=>(0,p.Z)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),J=(0,g.ZP)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})(({ownerState:e})=>(0,p.Z)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Q=(0,g.ZP)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>(0,p.Z)({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),ee=(0,g.ZP)(function(e){let{onChange:t}=e,r=(0,f.Z)(e,R),l=x.useRef(),o=x.useRef(null),a=()=>{l.current=o.current.offsetHeight-o.current.clientHeight};return x.useEffect(()=>{let e=(0,j.Z)(()=>{let e=l.current;a(),e!==l.current&&t(l.current)}),r=(0,k.Z)(o.current);return r.addEventListener("resize",e),()=>{e.clear(),r.removeEventListener("resize",e)}},[t]),x.useEffect(()=>{a(),t(l.current)},[t]),(0,s.jsx)("div",(0,p.Z)({style:E,ref:o},r))},{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),et={},er=x.forwardRef(function(e,t){let r=(0,w.Z)({props:e,name:"MuiTabs"}),l=(0,Z.Z)(),o="rtl"===l.direction,{"aria-label":a,"aria-labelledby":i,action:n,centered:c=!1,children:d,className:u,component:h="div",allowScrollButtonsMobile:b=!1,indicatorColor:m="primary",onChange:g,orientation:R="horizontal",ScrollButtonComponent:E=_,scrollButtons:B="auto",selectionFollowsFocus:A,TabIndicatorProps:M={},TabScrollButtonProps:N={},textColor:W="primary",value:L,variant:z="standard",visibleScrollbar:I=!1}=r,T=(0,f.Z)(r,D),q="scrollable"===z,U="vertical"===R,F=U?"scrollTop":"scrollLeft",H=U?"top":"left",er=U?"bottom":"right",el=U?"clientHeight":"clientWidth",eo=U?"height":"width",ea=(0,p.Z)({},r,{component:h,allowScrollButtonsMobile:b,indicatorColor:m,orientation:R,vertical:U,scrollButtons:B,textColor:W,variant:z,visibleScrollbar:I,fixed:!q,hideScrollbar:q&&!I,scrollableX:q&&!U,scrollableY:q&&U,centered:c&&!q,scrollButtonsHideMobile:!b}),ei=O(ea),[en,es]=x.useState(!1),[ec,ed]=x.useState(et),[eu,eh]=x.useState({start:!1,end:!1}),[eb,ef]=x.useState({overflow:"hidden",scrollbarWidth:0}),ep=new Map,ex=x.useRef(null),ev=x.useRef(null),em=()=>{let e,t;let r=ex.current;if(r){let o=r.getBoundingClientRect();e={clientWidth:r.clientWidth,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop,scrollLeftNormalized:S(r,l.direction),scrollWidth:r.scrollWidth,top:o.top,bottom:o.bottom,left:o.left,right:o.right}}if(r&&!1!==L){let a=ev.current.children;if(a.length>0){let i=a[ep.get(L)];t=i?i.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},eg=(0,P.Z)(()=>{let e;let{tabsMeta:t,tabMeta:r}=em(),l=0;if(U)e="top",r&&t&&(l=r.top-t.top+t.scrollTop);else if(e=o?"right":"left",r&&t){let a=o?t.scrollLeftNormalized+t.clientWidth-t.scrollWidth:t.scrollLeft;l=(o?-1:1)*(r[e]-t[e]+a)}let i={[e]:l,[eo]:r?r[eo]:0};if(isNaN(ec[e])||isNaN(ec[eo]))ed(i);else{let n=Math.abs(ec[e]-i[e]),s=Math.abs(ec[eo]-i[eo]);(n>=1||s>=1)&&ed(i)}}),ew=(e,{animation:t=!0}={})=>{t?function(e,t,r,l={},o=()=>{}){let{ease:a=C,duration:i=300}=l,n=null,s=t[e],c=!1,d=()=>{c=!0},u=l=>{if(c){o(Error("Animation cancelled"));return}null===n&&(n=l);let d=Math.min(1,(l-n)/i);if(t[e]=a(d)*(r-s)+s,d>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(u)};return s===r?(o(Error("Element already at target position")),d):(requestAnimationFrame(u),d)}(F,ex.current,e,{duration:l.transitions.duration.standard}):ex.current[F]=e},eZ=e=>{let t=ex.current[F];U?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===y()?-1:1),ew(t)},ej=()=>{let e=ex.current[el],t=0,r=Array.from(ev.current.children);for(let l=0;l<r.length;l+=1){let o=r[l];if(t+o[el]>e){0===l&&(t=e);break}t+=o[el]}return t},ey=()=>{eZ(-1*ej())},eS=()=>{eZ(ej())},eC=x.useCallback(e=>{ef({overflow:null,scrollbarWidth:e})},[]),ek=(0,P.Z)(e=>{let{tabsMeta:t,tabMeta:r}=em();if(r&&t){if(r[H]<t[H]){let l=t[F]+(r[H]-t[H]);ew(l,{animation:e})}else if(r[er]>t[er]){let o=t[F]+(r[er]-t[er]);ew(o,{animation:e})}}}),eR=(0,P.Z)(()=>{if(q&&!1!==B){let e,t;let{scrollTop:r,scrollHeight:a,clientHeight:i,scrollWidth:n,clientWidth:s}=ex.current;if(U)e=r>1,t=r<a-i-1;else{let c=S(ex.current,l.direction);e=o?c<n-s-1:c>1,t=o?c>1:c<n-s-1}(e!==eu.start||t!==eu.end)&&eh({start:e,end:t})}});x.useEffect(()=>{let e;let t=(0,j.Z)(()=>{ex.current&&(eg(),eR())}),r=(0,k.Z)(ex.current);return r.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(ev.current.children).forEach(t=>{e.observe(t)})),()=>{t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}},[eg,eR]);let eE=x.useMemo(()=>(0,j.Z)(()=>{eR()}),[eR]);x.useEffect(()=>()=>{eE.clear()},[eE]),x.useEffect(()=>{es(!0)},[]),x.useEffect(()=>{eg(),eR()}),x.useEffect(()=>{ek(et!==ec)},[ek,ec]),x.useImperativeHandle(n,()=>({updateIndicator:eg,updateScrollButtons:eR}),[eg,eR]);let eB=(0,s.jsx)(Q,(0,p.Z)({},M,{className:(0,v.Z)(ei.indicator,M.className),ownerState:ea,style:(0,p.Z)({},ec,M.style)})),eA=0,eM=x.Children.map(d,e=>{if(!x.isValidElement(e))return null;let t=void 0===e.props.value?eA:e.props.value;ep.set(t,eA);let r=t===L;return eA+=1,x.cloneElement(e,(0,p.Z)({fullWidth:"fullWidth"===z,indicator:r&&!en&&eB,selected:r,selectionFollowsFocus:A,onChange:g,textColor:W,value:t},1!==eA||!1!==L||e.props.tabIndex?{}:{tabIndex:0}))}),eN=e=>{let t=ev.current,r=(0,$.Z)(t).activeElement,l=r.getAttribute("role");if("tab"!==l)return;let a="horizontal"===R?"ArrowLeft":"ArrowUp",i="horizontal"===R?"ArrowRight":"ArrowDown";switch("horizontal"===R&&o&&(a="ArrowRight",i="ArrowLeft"),e.key){case a:e.preventDefault(),Y(t,r,V);break;case i:e.preventDefault(),Y(t,r,X);break;case"Home":e.preventDefault(),Y(t,null,X);break;case"End":e.preventDefault(),Y(t,null,V)}},eW=(()=>{let e={};e.scrollbarSizeListener=q?(0,s.jsx)(ee,{onChange:eC,className:(0,v.Z)(ei.scrollableX,ei.hideScrollbar)}):null;let t=eu.start||eu.end,r=q&&("auto"===B&&t||!0===B);return e.scrollButtonStart=r?(0,s.jsx)(E,(0,p.Z)({orientation:R,direction:o?"right":"left",onClick:ey,disabled:!eu.start},N,{className:(0,v.Z)(ei.scrollButtons,N.className)})):null,e.scrollButtonEnd=r?(0,s.jsx)(E,(0,p.Z)({orientation:R,direction:o?"left":"right",onClick:eS,disabled:!eu.end},N,{className:(0,v.Z)(ei.scrollButtons,N.className)})):null,e})();return(0,s.jsxs)(G,(0,p.Z)({className:(0,v.Z)(ei.root,u),ownerState:ea,ref:t,as:h},T,{children:[eW.scrollButtonStart,eW.scrollbarSizeListener,(0,s.jsxs)(K,{className:ei.scroller,ownerState:ea,style:{overflow:eb.overflow,[U?`margin${o?"Left":"Right"}`:"marginBottom"]:I?void 0:-eb.scrollbarWidth},ref:ex,onScroll:eE,children:[(0,s.jsx)(J,{"aria-label":a,"aria-labelledby":i,"aria-orientation":"vertical"===R?"vertical":null,className:ei.flexContainer,ownerState:ea,onKeyDown:eN,ref:ev,role:"tablist",children:eM}),en&&eB]}),eW.scrollButtonEnd]}))});var el=r(8216);function eo(e){return(0,L.Z)("MuiTab",e)}let ea=(0,W.Z)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ei=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],en=e=>{let{classes:t,textColor:r,fullWidth:l,wrapped:o,icon:a,label:i,selected:n,disabled:s}=e,c={root:["root",a&&i&&"labelIcon",`textColor${(0,el.Z)(r)}`,l&&"fullWidth",o&&"wrapped",n&&"selected",s&&"disabled"],iconWrapper:["iconWrapper"]};return(0,m.Z)(c,eo,t)},es=(0,g.ZP)(N.Z,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${(0,el.Z)(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>(0,p.Z)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ea.iconWrapper}`]:(0,p.Z)({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${ea.selected}`]:{opacity:1},[`&.${ea.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${ea.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${ea.disabled}`]:{color:(e.vars||e).palette.text.disabled}},"secondary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${ea.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${ea.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),ec=x.forwardRef(function(e,t){let r=(0,w.Z)({props:e,name:"MuiTab"}),{className:l,disabled:o=!1,disableFocusRipple:a=!1,fullWidth:i,icon:n,iconPosition:c="top",indicator:d,label:u,onChange:h,onClick:b,onFocus:m,selected:g,selectionFollowsFocus:Z,textColor:j="inherit",value:y,wrapped:S=!1}=r,C=(0,f.Z)(r,ei),k=(0,p.Z)({},r,{disabled:o,disableFocusRipple:a,selected:g,icon:!!n,iconPosition:c,label:!!u,fullWidth:i,textColor:j,wrapped:S}),R=en(k),E=n&&u&&x.isValidElement(n)?x.cloneElement(n,{className:(0,v.Z)(R.iconWrapper,n.props.className)}):n,B=e=>{!g&&h&&h(e,y),b&&b(e)},A=e=>{Z&&!g&&h&&h(e,y),m&&m(e)};return(0,s.jsxs)(es,(0,p.Z)({focusRipple:!a,className:(0,v.Z)(R.root,l),ref:t,role:"tab","aria-selected":g,disabled:o,onClick:B,onFocus:A,ownerState:k,tabIndex:g?0:-1},C,{children:["top"===c||"start"===c?(0,s.jsxs)(x.Fragment,{children:[E,u]}):(0,s.jsxs)(x.Fragment,{children:[u,E]}),d]}))});var ed=r(8862);let eu=()=>(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(ed.Z,{variant:"h4",children:"Заголовок новости"}),(0,s.jsx)(ed.Z,{variant:"body1",children:"текст новости"})]});var eh=r(2165);let eb=()=>{let[e,t]=(0,x.useState)([]),[r,l]=(0,x.useState)(""),[o,a]=(0,x.useState)(0),[i,n]=(0,x.useState)(0),[c,d]=(0,x.useState)(!1),[u,b]=(0,x.useState)(0),f=async(t,r)=>{let o=e[r].id;if(b(o),0===i){let s=await eh.Z.getUserRequest(o);l(s.message),d(s.isDone)}a(r),n(0)},p=async(e,t)=>{switch(t){case 0:let r=await eh.Z.getUserRequest(u);l(r.message),d(r.isDone);break;case 1:let o=await eh.Z.getUserResponse(u);l(o.message)}n(t)};return(0,x.useEffect)(()=>{let e=eh.Z.getAllUserRequests();e.then(e=>{t(e.requests),b(e.requests[0].id),eh.Z.getUserRequest(e.requests[0].id).then(e=>{l(e.message)})})},[]),(0,s.jsxs)(h.Z,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",maxHeight:"80vh"},children:[(0,s.jsx)(er,{orientation:"vertical",variant:"scrollable",value:o,onChange:f,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:e.map(e=>(0,s.jsx)(ec,{label:e.title},e.id))}),(0,s.jsxs)(h.Z,{sx:{width:"100%"},variant:"elevation",children:[(0,s.jsxs)(er,{value:i,onChange:p,centered:!0,children:[(0,s.jsx)(ec,{label:"Текст обращения"}),(0,s.jsx)(ec,{label:"Ответ",disabled:!c})]}),(0,s.jsx)(h.Z,{sx:{height:"100%",padding:"1rem"},children:(0,s.jsx)(ed.Z,{variant:"body1",children:r})})]})]})};var ef=r(3157),ep=r(3321);let ex=e=>{let{setValue:t}=e,[r,l]=(0,x.useState)(""),[o,a]=(0,x.useState)("");return(0,s.jsx)(h.Z,{sx:{width:"100%",padding:"1rem",display:"flex",justifyContent:"center"},children:(0,s.jsxs)(h.Z,{variant:"outlined",sx:{padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,s.jsx)(ef.Z,{label:"Заголовок",value:r,onChange:e=>{l(e.currentTarget.value)},type:"text",required:!0}),(0,s.jsx)(ef.Z,{label:"Текст",value:o,type:"text",required:!0,onChange:e=>{a(e.currentTarget.value)}}),(0,s.jsx)(ep.Z,{variant:"contained",onClick:async()=>{try{await eh.Z.createUserRequest({message:o,title:r}),a(""),l(""),t(1)}catch(e){console.log(e)}},children:"Отправить"})]})})},ev=()=>{let[e,t]=(0,x.useState)(0),r=(e,r)=>{t(r)};return(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(b.Z,{position:"static",children:(0,s.jsxs)(er,{value:e,onChange:r,indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[(0,s.jsx)(ec,{label:"Новое обращение",wrapped:!0}),(0,s.jsx)(ec,{label:"Мои обращения"})]})}),0===e&&(0,s.jsx)(ex,{setValue:t}),1===e&&(0,s.jsx)(eb,{})]})},em=()=>{let[e,t]=(0,x.useState)(0),[r,l]=(0,x.useState)(0),[o,a]=(0,x.useState)([]),[i,n]=(0,x.useState)(),[c,d]=(0,x.useState)([]),u=async(e,r)=>{n(o[r]);let l=await eh.Z.getAllActiveRequestsForUser(o[r].id);d(l),t(r)},b=(e,t)=>{l(t)};return(0,x.useEffect)(()=>{eh.Z.getAllUsers().then(e=>{a(e),e.length&&eh.Z.getAllActiveRequestsForUser(e[0].id).then(e=>{d(e)})})},[]),(0,s.jsxs)(h.Z,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",maxHeight:"80vh"},children:[(0,s.jsx)(er,{orientation:"vertical",variant:"scrollable",value:e,onChange:u,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:o.map(e=>(0,s.jsx)(ec,{label:e.name},e.id))}),(0,s.jsxs)(h.Z,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",maxHeight:"80vh"},children:[(0,s.jsx)(er,{orientation:"vertical",variant:"scrollable","aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},value:r,onChange:b,children:c.map(e=>(0,s.jsx)(ec,{label:e.title},e.id))}),(0,s.jsx)(h.Z,{sx:{padding:"1rem",width:"100%"},children:(0,s.jsx)(ed.Z,{variant:"body1",children:"asd"})})]})]})},eg=()=>(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(ed.Z,{variant:"h4",children:"Заголовок"}),(0,s.jsx)(ed.Z,{variant:"body1",children:"текст"})]}),ew=()=>(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(ed.Z,{variant:"h4",children:"Способ связи"}),(0,s.jsx)(ed.Z,{variant:"body1",children:"контакты"})]});function eZ(){let[e,t]=(0,x.useState)(0),[r,l]=(0,x.useState)(null),[o,a]=(0,x.useState)(n.USER);(0,x.useEffect)(()=>{let e=window.localStorage.getItem("token"),t=window.localStorage.getItem("role");console.log(e),console.log(t),l(e),t===n.ADMIN&&a(t)},[]);let i=(e,r)=>{t(r)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.I,{title:"ЖЭС-Обращения"}),(0,s.jsx)(d.h,{token:r,clear:l}),(0,s.jsxs)(h.Z,{variant:"outlined",children:[(0,s.jsx)(b.Z,{position:"static",children:(0,s.jsxs)(er,{value:e,onChange:i,indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[(0,s.jsx)(ec,{label:"Новости",wrapped:!0}),(0,s.jsx)(ec,{label:"Отправить обращение",disabled:!r}),(0,s.jsx)(ec,{label:"Ответы",disabled:o!==n.ADMIN}),(0,s.jsx)(ec,{label:"О нас"}),(0,s.jsx)(ec,{label:"Контакты"})]})}),0===e&&(0,s.jsx)(eu,{}),1===e&&(0,s.jsx)(ev,{}),2===e&&(0,s.jsx)(em,{}),3===e&&(0,s.jsx)(eg,{}),4===e&&(0,s.jsx)(ew,{})]}),(0,s.jsx)(u.$,{})]})}(o=n||(n={})).USER="USER",o.ADMIN="ADMIN"},3832:function(e){e.exports={wrapper:"Footer_wrapper__OqLJV",border:"Footer_border__akEkX"}},1881:function(e){e.exports={toolbar:"Header_toolbar__bvF_h"}}},function(e){e.O(0,[558,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);